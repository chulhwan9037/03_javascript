<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<!--  
	promise chaining 는 callbackHell 을 해결하는 방법중 하나
-->
<script type="text/javascript">
function guser(userId) {
	return new Promise((resolve,reject)=>{
		setTimeout(() => {
			try {
				const user ={id:userId, name:'nohssam'}
				resolve(user);
			} catch (e) {
				reject(err);
			}
		}, 3000);
	})
}
function gpos(userId) {
	return new Promise((resolve,reject)=>{
		setTimeout(() => {
			try {
				const posts =[{id:1, title:'post 1'},
					  {id:2, title:'post 2'}];
				resolve(posts)
			} catch (err) {
				reject(err);
			}
		}, 3000);
	})
}
guser(1)
.then((user)=>{
	console.log('user : ', user);
	return gpos(user.id);
})
.then((pos)=>{
	console.log('pos : ', pos);
})
</script>
</body>
</html>