<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>map, some, every, filter, reduce</title>
</head>
<body>
	<script type="text/javascript">
	<!-- map : 배열 내의 모든 요소 각각에 대하여 주어진 함수를 호출한 결과를 모아 새로운 배열을 반환합니다.-->
		const numbers = [1, 4, 9, 16];
		//const result = numbers.map(콜백)
		const result = numbers.map(function(num) {
			/* 배열의 각 요소마다 계산을 한다. */
			return num * 2;
		});
		console.log(result);
		
		// 여기서 num 은 numbers 배열의 각각의 요소를 말한다.
		const result2 = numbers.map((num)=>num*2);
		console.log(result2);
		
		// 현실에서는 DB 정보 또는 제공하는 정보가 객체로 넘어온다. 
		class Student{
			// 생성자
			constructor(name, kor, eng, math){
				this.name = name;
				this.kor = kor;
				this.eng = eng;
				this.math = math;
			}
		}
		
		const student1 = new Student('홍길동', 95, 87, 75);
		const student2 = new Student('김길동', 67, 80, 100);
		const student3 = new Student('고길동', 89, 75, 80);
		const student4 = new Student('최길동', 48, 52, 98);
		
		const students = [student1, student2, student3, student4];
		console.log("영어점수 : ", students.map((a)=>a.eng));
		
		/* some : 배열 안에 주어진 조건 중 하나라도 만족하면 true */
		console.log("숫자가 7이상인 숫자가 있나요? : ", numbers.some((num)=> num>=7));
		console.log("수학점수가 100점인 학생이 있나요? : ", students.some((k)=>k.math === 100));
		console.log("영어점수가 50점 미만인 학생이 있나요? : ", students.some((k)=>k.eng < 50));
		
		/* every : 배열 안에 모든 요소가 주어진 조건 모두를 만족하면 true */
		console.log("숫자가 모두 7이상인가요? : ", numbers.every((num)=> num>=7));
		console.log("수학점수가 모두 70점 이상인가요? : ", students.every((k)=>k.math >= 70));
		
		/* filter : 배열 안에 요소 중 주어진 조건에 만족하는 요소들만 모아 새로운 배열로 반환 */
		console.log("숫자 중 홀수만 출력해주세요 : ", numbers.filter((num)=> num%2===1));
		console.log("영어점수가 80이상인 학생만 출력하기 : ", students.filter((k)=>k.eng >= 80));
		
		/* reduce : 배열의 각 요쇼에 주어진 리듀서 함수를 실행하고, 하나의 결과값을 반환한다.
			주로 누적합, 중복제거에 사용된다.
			리듀서 함수 : acc(누적값), cur(현재값), idx(현재인덱스), src(원본배열) */
		// 리턴값이 acc로 다시 들어간다. 
		/* 배열.reduce((acc, cur, idx, src)=>{
			내용
			return 리턴값}, 초기값); */
		const numbers2 = [1, 4, 9, 16];
		numbers2.reduce((acc, cur, idx, src)=>{
			console.log(`acc : ${acc}, cur : ${cur}, idx : ${idx}, src : ${src}`);
			return acc}, 0);
		
		console.log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~")
		
		numbers2.reduce((acc, cur, idx, src)=>{
			console.log(`acc : ${acc}, cur : ${cur}, idx : ${idx}, src : ${src}`);
			return acc}, 1);
		
		console.log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~")
		/*누적값 구하는 형식 */
		const result3 = numbers2.reduce((acc, cur, idx, src)=>{
						return acc + cur}, 0);
		console.log("결과 : " + result3);	
		console.log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~")
		
		const fluits = ["사과", "딸기", "배", "참외", "딸기", "수박"];
		
		// 비어있는 배열(초기값)에서 includes(현재값)을 이용해서 중복제거
		// includes() 메서드는 배열의 항목에 특정 값이 포함되어 있는지를 판단하여 적절히 true 또는 false를 반환
		console.log(fluits);
		const result4 = fluits.reduce((acc, cur)=>{
			if(acc.includes(cur) === false){
				// 배열에 넣기 push
				acc.push(cur);
			}
			return vvv;
		},[]);
			
		
		console.log(result4);
		
		</script>
</body>
</html>










